{"level":"error","message":"fake promise fake promise","stack":"Error: fake promise\n    at Object.<anonymous> (C:\\Users\\parsa\\Desktop\\new methode in back end\\app.js:16:26)\n    at Module._compile (node:internal/modules/cjs/loader:1105:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1159:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)\n    at node:internal/main/run_main_module:17:47"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:13:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:13:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:13:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:13:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:13:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"_message":"Produce validation failed","errors":{"brand":{"kind":"required","message":"Path `brand` is required.","name":"ValidatorError","path":"brand","properties":{"message":"Path `brand` is required.","path":"brand","type":"required"}},"events":{"kind":"required","message":"Path `events` is required.","name":"ValidatorError","path":"events","properties":{"message":"Path `events` is required.","path":"events","type":"required"}}},"level":"error","message":"Produce validation failed: events: Path `events` is required., brand: Path `brand` is required. Produce validation failed: events: Path `events` is required., brand: Path `brand` is required.","stack":"ValidationError: Produce validation failed: events: Path `events` is required., brand: Path `brand` is required.\n    at model.Document.invalidate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\document.js:2842:17\n    at C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\schematype.js:1349:9\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:12:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:12:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:12:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:12:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"_message":"Produce validation failed","errors":{"brand":{"kind":"required","message":"Path `brand` is required.","name":"ValidatorError","path":"brand","properties":{"message":"Path `brand` is required.","path":"brand","type":"required"}}},"level":"error","message":"Produce validation failed: brand: Path `brand` is required. Produce validation failed: brand: Path `brand` is required.","stack":"ValidationError: Produce validation failed: brand: Path `brand` is required.\n    at model.Document.invalidate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\document.js:2842:17\n    at C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\mongoose\\lib\\schematype.js:1349:9\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:25:11)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:25:11)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at Object.createProduct (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:25:11)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"result.save is not a function result.save is not a function","stack":"TypeError: result.save is not a function\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:54:14)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"result.save is not a function result.save is not a function","stack":"TypeError: result.save is not a function\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:54:14)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"result.save is not a function result.save is not a function","stack":"TypeError: result.save is not a function\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:54:14)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:271:14)\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:44:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:271:14)\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:44:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:271:14)\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:44:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\response.js:271:14)\n    at Object.updateProducts (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\admin\\controller.js:55:17)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Object.validate (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\src\\routes\\controller.js:33:9)\n    at Layer.handle [as handle_request] (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\parsa\\Desktop\\projects\\shop line\\back end\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\middlewares\\auth.js:18:20)\n    at Layer.handle [as handle_request] (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Cannot read properties of null (reading 'save') Cannot read properties of null (reading 'save')","stack":"TypeError: Cannot read properties of null (reading 'save')\n    at Object.updateProducts (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\routes\\admin\\controller.js:58:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of null (reading 'save') Cannot read properties of null (reading 'save')","stack":"TypeError: Cannot read properties of null (reading 'save')\n    at Object.updateProducts (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\routes\\admin\\controller.js:58:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\middlewares\\auth.js:18:20)\n    at Layer.handle [as handle_request] (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\middlewares\\auth.js:18:20)\n    at Layer.handle [as handle_request] (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\middlewares\\auth.js:18:20)\n    at Layer.handle [as handle_request] (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\src\\middlewares\\auth.js:18:20)\n    at Layer.handle [as handle_request] (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\rabo\\Desktop\\tamrin\\Back end\\shop\\New folder\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Operation `users.findOne()` buffering timed out after 10000ms Operation `users.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (E:\\backend shop\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:153:23)\n    at listOnTimeout (node:internal/timers:564:17)\n    at process.processTimers (node:internal/timers:507:7)"}
{"level":"error","message":"data and salt arguments required data and salt arguments required","stack":"Error: data and salt arguments required\n    at Object.hash (E:\\backend shop\\node_modules\\bcrypt\\bcrypt.js:137:17)\n    at E:\\backend shop\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (E:\\backend shop\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.hash (E:\\backend shop\\node_modules\\bcrypt\\bcrypt.js:133:25)\n    at module.exports.register (E:\\backend shop\\src\\routes\\auth\\controller.js:21:30)"}
{"level":"error","message":"data and hash arguments required data and hash arguments required","stack":"Error: data and hash arguments required\n    at Object.compare (E:\\backend shop\\node_modules\\bcrypt\\bcrypt.js:208:17)\n    at E:\\backend shop\\node_modules\\bcrypt\\promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (E:\\backend shop\\node_modules\\bcrypt\\promises.js:20:12)\n    at Object.compare (E:\\backend shop\\node_modules\\bcrypt\\bcrypt.js:204:25)\n    at module.exports.login (E:\\backend shop\\src\\routes\\auth\\controller.js:40:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:19:20)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"Cannot read properties of null (reading 'isadmin') Cannot read properties of null (reading 'isadmin')","stack":"TypeError: Cannot read properties of null (reading 'isadmin')\n    at isAdmin (E:\\backend shop\\src\\middlewares\\auth.js:28:14)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:20:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (E:\\backend shop\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (E:\\backend shop\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (E:\\backend shop\\node_modules\\express\\lib\\response.js:278:15)\n    at module.exports.validationBody (E:\\backend shop\\src\\routes\\controller.js:19:17)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:28:18)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)"}
{"level":"error","message":"Cannot read properties of null (reading 'isadmin') Cannot read properties of null (reading 'isadmin')","stack":"TypeError: Cannot read properties of null (reading 'isadmin')\n    at isAdmin (E:\\backend shop\\src\\middlewares\\auth.js:28:14)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isLoggined (E:\\backend shop\\src\\middlewares\\auth.js:20:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"this.Produce is not a function this.Produce is not a function","stack":"TypeError: this.Produce is not a function\n    at module.exports.createProduct (E:\\backend shop\\src\\routes\\admin\\controller.js:23:34)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports.validate (E:\\backend shop\\src\\routes\\controller.js:31:9)\n    at Layer.handle [as handle_request] (E:\\backend shop\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\backend shop\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (E:\\backend shop\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.atlascluster.5gcw3sq.mongodb.net","level":"error","message":"querySrv ECONNREFUSED _mongodb._tcp.atlascluster.5gcw3sq.mongodb.net querySrv ECONNREFUSED _mongodb._tcp.atlascluster.5gcw3sq.mongodb.net","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.atlascluster.5gcw3sq.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:251:17)","syscall":"querySrv"}
